{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let SchedulesService = /*#__PURE__*/(() => {\n  class SchedulesService {\n    constructor(http) {\n      this.http = http;\n      this.apiUrl = 'https://192.168.15.7:81/api/Schedule';\n    }\n\n    getSchedule() {\n      return this.http.get(this.apiUrl);\n    }\n\n    getScheduleById(ScheduleId) {\n      console.log('Dados enviados para API:', ScheduleId);\n      return this.http.get(`${this.apiUrl}/${ScheduleId}`);\n    }\n\n    addSchedule(schedule) {\n      return this.http.post(this.apiUrl, schedule);\n    }\n\n    deleteSchedules(scheduleId) {\n      const token = localStorage.getItem('token');\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      return this.http.delete(`${this.apiUrl}/${scheduleId}`, {\n        headers\n      });\n    }\n\n    editSchedules(schedule) {\n      const token = localStorage.getItem('token');\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      return this.http.put(`${this.apiUrl}/${schedule.scheduleId}`, schedule, {\n        headers\n      });\n    }\n\n    updateAttendance(scheduleId, attended) {\n      const token = localStorage.getItem('token');\n      const headers = new HttpHeaders({\n        'Authorization': `Bearer ${token}`\n      });\n      return this.http.put(`${this.apiUrl}/${scheduleId}`, {\n        attended: attended\n      }, {\n        headers\n      });\n    }\n\n    getSchedulesByProfessional(professionalId) {\n      const url = `${this.apiUrl}/professional/${professionalId}`;\n      return this.http.get(url);\n    }\n\n    getSchedulesByDateAndProfessional(date, professionalId) {\n      return this.http.get(`${this.apiUrl}/schedules/by-date-professional?date=${date}&professionalId=${professionalId}`);\n    }\n\n    getHorariosOcupados(professionalId, date) {\n      const dateStr = date.toISOString(); // Envia como UTC\n\n      return this.http.get(`/agendamentos/ocupados`, {\n        params: {\n          profissionalId: professionalId,\n          data: dateStr\n        }\n      });\n    }\n\n  }\n\n  SchedulesService.ɵfac = function SchedulesService_Factory(t) {\n    return new (t || SchedulesService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  SchedulesService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: SchedulesService,\n    factory: SchedulesService.ɵfac,\n    providedIn: 'root'\n  });\n  return SchedulesService;\n})();","map":null,"metadata":{},"sourceType":"module"}